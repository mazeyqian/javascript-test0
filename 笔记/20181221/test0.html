<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        :root{
            --main-color: #4d4e53;
            --main-bg: rgb(255, 255, 255);
            --logo-border-color: rebeccapurple;

            --header-height: 68px;
            --content-padding: 10px 20px;

            --base-line-height: 1.428571429;
            --transition-duration: .35s;
            --external-link: "external link";
            --margin-top: calc(2vh + 20px);
            --foo: #4d4e53;
        }
        div {
            background-color: #000;
            width: 200px;
            height: 200px;
            display: flex;
            justify-content: center;
        }
        span {
            display: grid;
            grid-template-columns: 200px 200px 200px;
            color: var(--foo, #7F583F);
        }
        span:not(.nnn) {
            overscroll-behavior: none;
            overflow-scrolling: touch;
            /*display: compact;*/
            /*overflow-clip: 10;*/
        }
        header {
            display: run-in;
            filter: grayscale(1);
        }
    </style>
</head>
<body>
<div id="myCanvas">456</div>
<span>123</span>
<header></header>
<script>
    window.onload = () => {
        const load = Date.now() - performance.timing.navigationStart
        console.log(`消耗了 ${load} ms`)
    }
    caches.has(null);
    this.addEventListener('install', function(event) {
        event.waitUntil(
            caches.open('v1').then(function(cache) {
                return cache.addAll([
                    '/sw-test/',
                    '/sw-test/index.html',
                    '/sw-test/style.css',
                    '/sw-test/app.js',
                    '/sw-test/image-list.js',
                    '/sw-test/star-wars-logo.jpg',
                    '/sw-test/gallery/bountyHunters.jpg',
                    '/sw-test/gallery/myLittleVader.jpg',
                    '/sw-test/gallery/snowTroopers.jpg'
                ]);
            })
        );
    });

    this.addEventListener('fetch', function(event) {
        var response;
        event.respondWith(caches.match(event.request).catch(function() {
            return fetch(event.request);
        }).then(function(r) {
            response = r;
            caches.open('v1').then(function(cache) {
                cache.put(event.request, response);
            });
            return response.clone();
        }).catch(function() {
            return caches.match('/sw-test/gallery/myLittleVader.jpg');
        }));
    });

    navigator.serviceWorker.register('service-worker.js', {
        scope: './'
    }).then(function (registration) {
        var serviceWorker;
        if (registration.installing) {
            serviceWorker = registration.installing;
            document.querySelector('#kind').textContent = 'installing';
        } else if (registration.waiting) {
            serviceWorker = registration.waiting;
            document.querySelector('#kind').textContent = 'waiting';
        } else if (registration.active) {
            serviceWorker = registration.active;
            document.querySelector('#kind').textContent = 'active';
        }
        if (serviceWorker) {
            // logState(serviceWorker.state);
            serviceWorker.addEventListener('statechange', function (e) {
                // logState(e.target.state);
            });
        }
    }).catch (function (error) {
        // Something went wrong during registration. The service-worker.js file
        // might be unavailable or contain a syntax error.
    });
    var event = document.createEvent('Event');
    var canvas = document.getElementById('myCanvas');
    // var gl = canvas.getContext('webgl');

    let p = new Promise((res, rej) => {res(123)})
    .finally(() => {console.log(123)})

    ;let iii = [1, 2, 3].find(v => v === 2)
    console.log(iii)
</script>
</body>
</html>
